{% extends "notification/meeting/meeting_base.html" %}
{% block title %}My Attendance{% endblock %}

{% block content %}
<div class="d-flex justify-content-center">
  <div class="card">
    <h2 class="mb-4 text-center">My Attendance</h2>

    {% if records %}
    <div class="table-responsive">
      <table class="table table-hover align-middle">
        <thead>
          <tr>
            <th scope="col">Meeting</th>
            <th scope="col">Date</th>
            <th scope="col">Status</th>
          </tr>
        </thead>
        <tbody>
          {% for record in records %}
          <tr>
            <td>
              <a href="{% url 'notification:meeting_detail' record.attendance_meeting.pk %}">
                {{ record.attendance_meeting.meeting_title }}
              </a>
            </td>
            <td>{{ record.attendance_meeting.meeting_date|date:"D, d M Y H:i" }}</td>
            <td>
              {% if record.status == "present" %}
                <span class="badge status-badge bg-success">Present</span>
              {% elif record.status == "absent" %}
                <span class="badge status-badge bg-danger">Absent</span>
              {% elif record.status == "excused" %}
                <span class="badge status-badge bg-warning text-dark">Excused</span>
              {% else %}
                <span class="badge status-badge bg-secondary">{{ record.status|capfirst }}</span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p class="text-muted text-center">You have no attendance records yet.</p>
    {% endif %}

    
  </div>
</div>
{% endblock %}
