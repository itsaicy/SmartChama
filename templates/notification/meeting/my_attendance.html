{% extends "notification/meeting/meeting_base.html" %}
{% block content %}
<div class="card-vision">
    <div class="header-row">
        <a href="javascript:history.back()" class="back-btn"><span class="material-icons">arrow_back_ios_new</span></a>
        <h2 class="page-title">My Attendance</h2>
    </div>

    <div class="filter-row">
        <a href="?filter=upcoming" class="btn-pill {% if filter_type == 'upcoming' %}active{% endif %}">Upcoming</a>
        <a href="?filter=past" class="btn-pill {% if filter_type == 'past' %}active{% endif %}">Past</a>
    </div>

    <div>
        {% for record in records %}
        <a href="{% url 'notification:meeting_detail' record.attendance_meeting.pk %}" class="meeting-card-item">
            <div class="meeting-icon-square">
                {% if record.attendance_status == 'present' %}
                    <span class="material-icons text-success">check_circle</span>
                {% elif record.attendance_status == 'absent' %}
                    <span class="material-icons text-danger">cancel</span>
                {% else %}
                    <span class="material-icons text-muted">help_outline</span>
                {% endif %}
            </div>
            <div class="meeting-info">
                <div class="meeting-title">{{ record.attendance_meeting.meeting_title }}</div>
                <div class="meeting-meta">{{ record.attendance_meeting.meeting_date|date:"M d, Y" }}</div>
            </div>
            <span class="status-badge" style="background:#eee;">{{ record.attendance_status|capfirst }}</span>
        </a>
        {% empty %}
        <div class="text-center py-5 text-muted">No attendance records found.</div>
        {% endfor %}
    </div>
</div>
{% endblock %}